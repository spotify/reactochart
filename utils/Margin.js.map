{"version":3,"sources":["../src/utils/Margin.js"],"names":["zeroMargin","top","bottom","left","right","getFuzzy","obj","fuzzyKey","_","find","value","key","match","RegExp","innerWidth","width","margin","Math","max","innerHeight","height","innerSize","innerRangeX","outerWidth","min","innerRangeY","outerHeight","prefixKeys","prefix","mapKeys","upperFirst","maxMargins","margins","keyPrefix","reduce","result","mapValues","clone","sumMargins"],"mappings":"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","sourcesContent":["import _ from \"lodash\";\n\nexport const zeroMargin = { top: 0, bottom: 0, left: 0, right: 0 };\n\nfunction getFuzzy(obj = {}, fuzzyKey) {\n  // find a fuzzy match for key in object and return the value\n  // eg getFuzzy({marginLeft: 10}, 'left') returns 10\n  return _.find(obj, (value, key) => {\n    return !!key.match(new RegExp(fuzzyKey, \"i\"));\n  });\n}\n\nexport function innerWidth(width, margin = {}) {\n  return Math.max(\n    width -\n      ((getFuzzy(margin, \"left\") || 0) + (getFuzzy(margin, \"right\") || 0)),\n    0\n  );\n}\nexport function innerHeight(height, margin = {}) {\n  return Math.max(\n    height -\n      ((getFuzzy(margin, \"top\") || 0) + (getFuzzy(margin, \"bottom\") || 0)),\n    0\n  );\n}\n\nexport function innerSize({ width, height } = {}, margin = {}) {\n  return {\n    width: innerWidth(width, margin),\n    height: innerHeight(height, margin)\n  };\n}\n\nexport function innerRangeX(outerWidth, margin = {}) {\n  const left = getFuzzy(margin, \"left\") || 0;\n  return [\n    Math.min(left, outerWidth),\n    Math.min(left + innerWidth(outerWidth, margin), outerWidth)\n  ];\n}\nexport function innerRangeY(outerHeight, margin = {}) {\n  const top = getFuzzy(margin, \"top\") || 0;\n  return [\n    Math.min(top + innerHeight(outerHeight, margin), outerHeight),\n    Math.min(top, outerHeight)\n  ];\n}\n\nexport function prefixKeys(obj, prefix) {\n  if (!prefix) return obj;\n  return _.mapKeys(obj, (value, key) => prefix + _.upperFirst(key));\n}\n\n// TODO this isn't used anywhere, deprecate?\nexport function maxMargins(margins = [], keyPrefix) {\n  return margins.reduce((result, margin) => {\n    return _.mapValues(result, (value, key) => {\n      return Math.max(margin[key] || 0, result[key] || 0);\n    });\n  }, _.clone(prefixKeys(zeroMargin, keyPrefix)));\n}\n\nexport function sumMargins(margins = [], keyPrefix) {\n  return margins.reduce((result, margin) => {\n    return _.mapValues(result, (value, key) => {\n      return (result[key] || 0) + (margin[key] || 0);\n    });\n  }, _.clone(prefixKeys(zeroMargin, keyPrefix)));\n}\n"],"file":"Margin.js"}